!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var a=document.getElementById("contents");async function r(e,t={}){try{const n=await fetch(window.ENV.UI_API_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}),a=await n.text(),r=JSON.parse(a);if(r.errors){const e=r.errors[0];if("BAD_USER_INPUT"===e.extensions.code){const t=e.extensions.exception.errors.join("\n ");alert(`${e.message}:\n ${t}`)}else alert(`${e.extensions.code}: ${e.message}`)}return r.data}catch(e){return alert("Error in sending data to server: "+e.message),null}}class l extends React.Component{render(){const e=this.props.prod;return React.createElement("tr",null,React.createElement("td",null,e.name),React.createElement("td",null,"$",e.price),React.createElement("td",null,e.category),React.createElement("td",null,React.createElement("a",{href:e.url,target:"__blank"},"View")))}}class c extends React.Component{render(){const e=this.props.prods.map(e=>React.createElement(l,{key:e.id,prod:e}));return React.createElement("table",{style:{borderCollapse:"collapse"}},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Product Name"),React.createElement("th",null,"Price"),React.createElement("th",null,"Category"),React.createElement("th",null,"Image"))),React.createElement("tbody",null,e))}}class o extends React.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();var t=document.forms.prodAdd;this.props.createProd({name:t.name.value,price:t.price.value.replace("$",""),category:t.category.value,url:t.url.value}),t.name.value="",t.price.value="$",t.category.value="Shirts",t.url.value=""}render(){return React.createElement("div",null,React.createElement("br",null),React.createElement("h2",null,"Add a Product"),React.createElement("form",{name:"prodAdd",onSubmit:this.handleSubmit},React.createElement("lable",null,"Category"),React.createElement("label",null,"Name"),React.createElement("select",{name:"category"},React.createElement("option",{selected:"selected",value:"Shirts"},"Shirts"),React.createElement("option",{value:"Jeans"},"Jeans"),React.createElement("option",{value:"Jackets"},"Jackets"),React.createElement("option",{value:"Sweaters"},"Sweaters"),React.createElement("option",{value:"Accessories"},"Accessories")),React.createElement("input",{type:"text",name:"name"}),React.createElement("lable",null,"Price"),React.createElement("lable",null,"Image"),React.createElement("input",{type:"text",name:"price"}),React.createElement("input",{type:"text",name:"url"}),React.createElement("button",null,"Add")))}}class s extends React.Component{constructor(){super(),this.state={prods:[]},this.createProd=this.createProd.bind(this)}componentDidMount(){this.loadData()}async loadData(){const e=await r("query {\n      prodList {\n        id name price category url\n      }\n    }");e&&this.setState({prods:e.prodList})}async createProd(e){const t=`mutation {\n      addProd(prods:{\n        name:"${e.name}"\n        category:${e.category}\n        price:${e.price}\n        url:"${e.url}"\n      }) {\n        id\n      }\n    }`;await r(t,{prods:e})&&this.loadData()}render(){const{prods:e}=this.state;return React.createElement("div",null,React.createElement("h1",null,"My Company Inventory"),React.createElement("br",null),React.createElement("h2",null,"Showing all available products",React.createElement("hr",null)),React.createElement(c,{prods:e}),React.createElement(o,{createProd:this.createProd}))}}const u=React.createElement(s,null);ReactDOM.render(u,a)}]);